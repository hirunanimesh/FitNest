# ========================================
# PAYMENT SERVICE CONFIGURATION
# ========================================
# Copy this file to .env and fill in your actual values
# This file serves as a template and should be committed to GitHub
# The actual .env file should NEVER be committed

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=3003
NODE_ENV=development

# ========================================
# STRIPE CONFIGURATION
# ========================================
# Get your Stripe keys from: https://dashboard.stripe.com/test/apikeys
# IMPORTANT: Use test keys for development, live keys for production

# Stripe Secret Key - Used for server-side API calls
# Test key format: sk_test_...
# Live key format: sk_live_...
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Stripe Publishable Key - Used for client-side integration
# Test key format: pk_test_...
# Live key format: pk_live_...
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here

# Stripe Webhook Secret - For webhook signature verification
# Get this from: https://dashboard.stripe.com/test/webhooks
# Format: whsec_...
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ========================================
# MONGODB CONFIGURATION
# ========================================
# MongoDB Atlas connection string
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/?retryWrites=true&w=majority
# Get this from: https://cloud.mongodb.com/

MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority&appName=Payments

# ========================================
# SUPABASE CONFIGURATION
# ========================================
# Get these from: https://app.supabase.com/project/_/settings/api

# Supabase Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Service Role Key (server-side only, has admin privileges)
# IMPORTANT: Keep this secret! Never expose to client-side code
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ========================================
# KAFKA CONFIGURATION
# ========================================
# Apache Kafka for event streaming
# Get these from your Kafka provider (e.g., Aiven, Confluent Cloud)

# Kafka broker address with port
# Format: your-kafka-instance.provider.com:port
KAFKA_BROKER=your-kafka-broker.aivencloud.com:20377

# Kafka authentication password
KAFKA_PASSWORD=your_kafka_password_here

# ========================================
# CLOUDINARY CONFIGURATION
# ========================================
# Cloudinary for image and document storage
# Get these from: https://cloudinary.com/console

CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ========================================
# FRONTEND CONFIGURATION
# ========================================
# Frontend domain for redirect URLs after payment
# Development: http://localhost:3010
# Production: https://your-domain.com

DOMAIN=http://localhost:3010

# ========================================
# KAFKA TOPICS (Used by the service)
# ========================================
# These topics are subscribed/published by this service:
# - gym_plan_created: Triggered when a gym plan is created
# - gym_plan_deleted: Triggered when a gym plan is deleted
# - gym_plan_price_updated: Triggered when a gym plan price is updated
# - trainer_session_created: Triggered when a trainer session is created

# ========================================
# STRIPE CONNECT CONFIGURATION
# ========================================
# Application fee percentage for Stripe Connect (platform fee)
# APPLICATION_FEE_PERCENTAGE=10

# ========================================
# TESTING CONFIGURATION
# ========================================
# For running tests, create a .env.test file with test database credentials
# TEST_MONGO_URI=mongodb://localhost:27017/fitnest_test
# TEST_STRIPE_SECRET_KEY=sk_test_...

# ========================================
# PRODUCTION EXAMPLE
# ========================================
# NODE_ENV=production
# PORT=3003
# STRIPE_SECRET_KEY=sk_live_your_live_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key
# STRIPE_WEBHOOK_SECRET=whsec_your_production_webhook_secret
# MONGO_URI=mongodb+srv://prod_user:secure_password@production-cluster.mongodb.net/?retryWrites=true&w=majority
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=your_production_service_role_key
# KAFKA_BROKER=production-kafka-broker.provider.com:20377
# KAFKA_PASSWORD=your_production_kafka_password
# DOMAIN=https://fitnest.com

# ========================================
# SECURITY NOTES
# ========================================
# 1. Never commit .env file to version control
# 2. Use strong, unique passwords for production
# 3. Rotate secrets regularly
# 4. Use different credentials for dev/test/prod environments
# 5. Store production secrets in secure vault (e.g., AWS Secrets Manager, Azure Key Vault)
# 6. Enable Stripe webhook signature verification
# 7. Use HTTPS in production for all endpoints
